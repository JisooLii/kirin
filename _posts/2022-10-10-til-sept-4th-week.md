---
layout: post
title: 9월 마지막주 TIL
date: 2022-10-02 20:10:00 +0900
description: 9월 마지막주 업무 TIL
img: post/2022-09-15/starting-1.jpg # Add image post (optional)
fig-caption: # Add figcaption (optional)
tags: []
---

9월 마지막 주 업무에 대한 TIL이다.
아직 언급되면 안 되는 구체적인 업무 내용은 일부 좀 두루뭉술하게 편집하였으니 양해 부탁드립니다.

# Facts

- AI 바우처 > 업체 A - 판정서버 연계
  - 인터페이스 작성을 기존에 내가 했었으나, 서비스 제공자가 API 문서 작성을 하는 것이 맞다고 보여져 AI팀 책임님 쪽에 업무해주실 것 요청함. (이미 일부 내가 진행했지만 앞으로는 그렇게 하기로 함)
  - MLOps 를 통해 진행하기로 했으나 전달받은 url로 서버가 배포되지 않아 더이상 진행 불가능, 담당자 휴가 복귀 후 마저 진행하도록 했다. (10월 둘째주 예상)
  - IOT 디바이스의 디바이스 속성으로 요청에 필요한 메타 데이터를 입력, 이를 기반으로 스케줄러 서버에 매일 9시, 4시에 정기적으로 판정서버로 요청하도록 함.
- AI 바우처 > 업체 B - 디바이스 데이터 연계, 판정 연계
  - AI 바우처 사업 종료가 10월 말이라 디바이스 데이터 연계 진행함
  - 중간에 AI 팀 쪽에서 필요 정보를 추가 전달하여 디바이스 데이터 추가 연계를 요청함, 답변은 못 받은 상태
- NCP 상품 개발 협업 - API 추가 작업
  - 대시보드 API를 기존에 한꺼번에 3개 요청하던 것을 각 차트별로 분리함
  - 대시보드 조회 API 3개 + 대시보드 필터용 API 2개 = 총 5개 작업
  - 데이터 정합성 확인까지 되도록 테스트코드를 정석적으로 짜려고 했으나 시간 부족으로 아주 최소한의 검증만 해서 내려가도록 함. (생각보다 설계가 어려웠다)
- 자사 서비스 - 운영계 반영 대비
  - 10.06 에 예정된 운영계 반영 대비를 위해 버그픽스
  - 데이터 뷰어 쪽 에러가 많아 이쪽 업무를 많이 봄
- 업체 C - 서버 설치
  - 주 작업자인 막내 서포트
  - 서버 배포 프로세스를 같이 따라가면서 작업 진행했고, Doc 정리 지원함

# Feelings

- NCP 상품 개발 기능 중 우리 쪽 기획 팀장님은 “해당 기능은 NCP에서 제공해주기로 했다”고 하셨었다. 매우 확신을 갖고 얘기해주시면서 제가 알고 있는 정보가 잘못 되었을 것이라고 이야기해주셨는데, "분명 관련 데이터를 우리가 가지고 있는데 왜 NCP쪽에서 주지..? NCP에서는 내려줄 수 있는 데이터가 없는데" 라는 생각을 했었다. NCP 기획자한테도 과거에 분명 우리 회사가 제공하는 것이다, 라고 전달받았었기도 했고 말이다.<br>

그래도 일단 확인차 NCP 기획자한테 여쭤봤는데, 역시나 우리 쪽에서 하는 것이라고 했다. 같은 회사에서 같은 프로젝트를 진행하면서 이해한 부분과 소통하는 부분이 이렇게까지 다르다는 점에 조금.. 화가 나긴 했는데, 바쁘셔서 그러겠거니 싶다. 화가 나는 이유는 아마 과거로부터 쌓여온 생각들로부터 발생하는 것 같다. 비슷한 경우가 여러 번 있었어서 내가 생각이 좀 부정적으로 자꾸 쏠리는 것 같다.<br>

내가 가진 의문점에 대해서 확신을 갖고 소명하지 못했던 점이 아쉽다. 내가 알고 있는 정보와 당신의 의견이 다른데, 어떤 부분이 의문점이 드는지에 대해서 설득하고자 하는 마음이 잘 안났던 것 같다. 단순히 상사라는 이유로 그랬었기도 하고, 평소 기획팀장님과의 소통 경험을 생각했을 때, “저 분은 이 말 안 듣겠지....” 싶어서 일단 꼬리 내린 것도 있다. 이게 무조건 능사가 아니라는 생각이 들었다. 내 감정에 치우친 생각이었다. 그리고 상대가 받아들이는 것과 별개로, 나는 내 자리에서 최선 다 해야 한다. 그렇기 때문에, 의문점이 생겼을 때 질문했어야 했다.

- 현재 우리 팀장님이 주로 참여하고 있는 MSA 전환 작업 관련해서 공유해주셨는데, “우리 서비스는 여기저기 많이 얽혀 있어서 MSA 전환이 매끄럽지 않다”고 하셨다.
  내가 아직 정확히 MSA에 대해서 다 이해하고 있지는 않긴 해서 이 말의 깊이를 정확히 이해했는지는 모르겠다. (MSA의 대략적인 정의는 알지만 실무적으로 감이 확 생생하지는 않다.)
  하지만 우리 서비스의 데이터 구조나 내부 로직들을 생각해봤을 때 대략적으로 이해는 갔다.
  현재 우리 서비스가 Micro Service로 분리되려면 분리하려는 서비스 단위가 다 명확하게 떨어져야 하는데, 우리 서비스 같은 경우는 현재 리소스들끼리 얽혀있는 것들이 매우 많다. 이게 고쳐져야 하는데, 기획 방향 상 여러 리소스가 서로 엮여서 들어오는 것이 많다. 이 문제에 대해서 서로 충분히 얘기하고 이해하고 넘어가기에는 지금 회사에 들이닥쳐 있는 일이 너무 많아 차분하게 정리하고 갈 수가 없는 상황이다. 항상 이 점이 매우 아쉽고 슬프다. (이 부분이 이직을 생각하게 되는 가장 큰 원인이다. 내가 개선할 수 있는 부분이면 좋겠지만 운영 및 영업 방향에 관환 것이라, 내가 참여할 수 있는 여지가 많지 않다고 느껴진다.)

- 판정서버의 인터페이스가 서버 기능 제공자인 AI팀에서 만드는 것이 맞다고 우리 팀장님이 말씀해주셨을 때 전혀 생각치 못한 포인트라 조금 띠용, 했는데 생각해보니 맞는 말씀이었다.

서버 인터페이스도 내가 만들지 않는가 ? 왜냐면 어떤 기능을 달성하기 위해 서버에서 어떤 작업을 해야 하는지, 그래서 어떤 데이터가 요청 인자로 필요하고 또 응답에 내려가는지를 이해하는 것은 API 작성자인 나이기 때문에.

마찬가지로 판정서버도 내부 로직과 인풋 아웃풋을 정확히 이해하고 있는 것은 AI 팀인데, 단지 인터페이스 작성이 미숙하다는 이유로 내가 대리 작성하고 있었던 셈이다. 처음에는 내가 당연히 하던 것을 당연하지 않다고 집어주셔서 사실 좀 어색함..? 반감..? 같은 감정이 들었는데, 다시 생각해보니 맞는 말이었다. 당연한 것도 틀릴 수 있다는 것, 그러니 내 아집을 좀 내려놔야 겠다는 생각이 들었다.

- NCP 대시보드 통계 정합성을 볼 수 있게 테스트코드를 짜보려고 했는데, 엄~청 복잡한 기능은 아니었음에도 테스트코드 설계가 꽤나 까다로웠다. 사실 이미 어느정도 작업이 되어있었던 부분이라 그냥 이전 작업자를 믿고 인터페이스만 맞춰 내려가는지 확인하는 정도의 테스트코드를 짰다.. ㅎ;;
  우리 팀장님이 요금제 MSA 분리 관련해서 테스트코드 & 테스트 케이스를 짜고 계신데, 어떻게 짜고 계신지 보여주셨다. 테이블에 일자별로 디바이스 몇 대가 등록된 상황을 가정했는지를 쫙 정리하셨는데.. 아 나도 저렇게 해야겠거니 싶었다.
- 3.6 버전 기능 고도화 관련해서 테스트코드를 작성하려고 했었는데 시간이 너무 쫓기다 보니 정말 대충 짜고, API 먼저 짜고 나중에 테스트코드 짜고.. 그 마저도 대충 인터페이스만 맞춰서 짜고.. 하는 식으로 했었는데. 결국에는 오류가 많이 발생했고 결과적으로 테스트코드를 다시 짜는 상황이 벌어졌었다. 아무리 시간에 쫓기더라도, 결국 정석대로 가는 것이 정답이다.
- 막내랑 업체 납품하는 서버 설치와 배포 프로세스 마련 작업을 진행하는데, 내가 다 알고 있음에도 처음부터 끝까지 Flow를 그리고, 이를 차근차근 설명하는게 매우 어려웠다. 그래도 이해해주고 잘 따라오는 막내가 고맙다. 그리고 내 스스로 당연히 알고 있다고 생각하는 것들을 정리해보는 습관을 키워봐야 겠다는 생각이 들었다.

# Findings

- 테스트 주도 설계는 테스트를 위한 기법이 아니고, 설계를 위한 기법에 테스트를 응용하는 것이다. 즉, 시간 급하다고 개발을 무작정 먼저 하는게 능사가 아니다.
- 데이터 정합성을 위한 테스트 코드 설계는 생각처럼 쉽지 않다. 막바로 코드에 달려들기 보다는 어떻게 설계하면 좋을지 고민하고, 최종적으로 방향이 정해질 때까지 차근차근 생각해보고 설계해야 한다.
- 내가 알고 있는 지식이 일목요연하게 흐름대로 쭉 ~ 나오려면, 생각보다 더 깊이 있는 이해가 필요하고, 내가 고민을 그만큼 많이 해봐야 한다.
- MSA가 이루어지려면 객체지향설계가 잘 되어있어야 한다.

# Bad

- 의사소통이 내 뜻대로 안 될 때 자꾸 화가 났다. 그래도 다행히 사람 앞에서 대놓고 화를 내지는 않았다. (속으로 삭힐 뿐.. 후하후) 그래도 이런 것들은 쌓여서 어느날 작은 계기로 인해 확!! 튀어나올지 모르는 부분이고, 사실 나는 잘 모르지만 주변 사람들은 감지하지 않는가? ㅎㅎ; 인격 수양 필요...
- 시간이 급하다고 테스트코드를 날림으로 짜거나, 선 개발 후 테스트를 진행했다. 테스트도 사실 정말 최소한으로, 인터페이스대로 내려가는지 정도만 짠 경우가 많았다.

# Affirmation

- 화내지 말자..(ㅋㅋ). 내가 실수할 수 있는 것처럼 다른 사람도 실수할 수 있고, 생각보다 사람들은 서로 매우 다른 생각과 관점과 이해도를 가지고 있다. 나 또한 마찬가지고, 내가 무조건 그 차이점에서 피해를 보는게 아니라 그런 차이점에서부터 배울 수도 있는 부분이다. 그러니 화내지 말자. ㅎㅎ;
- 테스트코드를 정성껏 짜자..! 테스트 설계도 정석적으로 한 단계씩..!
- 당황했다고 급하게 훅, 흔들리지 말자. 당황스러워도 차근차근 생각해보자. 그러면 답이 보인다.
- 내가 당연히 알고 있다고 생각하는 것들을 처음부터 끝까지 설명해보는 연습을 많이 하자. 글이든 말이든.
